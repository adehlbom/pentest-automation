#!/bin/bash

# Run the full TCP scan
nmap -p- $1 > nmap_output_full.txt

# Process the Nmap output to extract port, state, service, and version information
awk '/\/tcp|\/udp/ {print $1, $2, $3, $4, $5}' nmap_output_full.txt > processed_output.txt

# Extract just the port numbers for vulnscan.sh
awk '/\/tcp|\/udp/ {print $1}' nmap_output_full.txt | cut -d '/' -f1 | tr '\n' ',' | sed 's/,$//' > ports_full.txt
